!function(){{var t=tinymce.DOM;tinymce.dom.Event,tinymce.each}tinymce.create("tinymce.plugins.jQueryInlinePopups",{init:function(t){t.onBeforeRenderUI.add(function(){t.windowManager=new tinymce.InlineWindowManager(t)})},getInfo:function(){return{longname:"jQuery UI Inline Popups",author:"Richard Willis",authorurl:"http://badsyntax.co",infourl:"http://is.gd/j1FuI",version:"0.1b"}}}),tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(t){this.parent(t),this.windows={}},open:function(n,e){if(n=n||{},e=e||{},!n.inline)return i.parent(n,e);var i=this,o=t.uniqueId(),a={title:n.title||"",width:"auto",height:"auto",modal:!0,resizable:!1,draggable:!0,dialogClass:"ui-dialog-tinymce",zIndex:3e5},r=$("<div />").attr("id","dialog-"+o).hide().appendTo("body"),c={id:o,features:n,element:r};if(n.type||(this.bookmark=this.editor.selection.getBookmark(1)),n.content)"confirm"==n.type?a.buttons=[{text:"Ok",click:function(){n.button_func(!0)}},{text:"Cancel",click:function(){n.button_func(!1)}}]:"alert"==n.type&&(a.buttons=[{text:"Ok",click:function(){n.button_func(!0)}}]),a.width=n.width,r.html($("<div />",{"class":"ui-dialog-tinymce-content",html:n.content}));else var u=$("<iframe />",{id:o+"_ifr",frameborder:0}).css({width:n.width,height:n.height}).appendTo(r);return e.mce_inline=!0,e.mce_window_id=o,e.mce_auto_focus=n.auto_focus,this.features=n,this.params=e,this.onOpen.dispatch(this,n,e),r.dialog(a),n.content||(u.attr("src",n.url||n.file),u.load(function(){var t=$(u).contents();buttonPane=$("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),r.after(buttonPane),buttons=$("<div></div>").addClass("button-wrapper").appendTo(buttonPane),t.find(".mceActionPanel").hide().find("input[type=button], input[type=submit]").each(function(){var t,n=$(this);"cancel"==n.attr("id")?(t=$("<a></a>").attr("href","#").attr("id","close-link").html(n.val()),buttonPane.append(t)):(t=$("<a></a>").attr("href","#").addClass("button").html(n.val()),buttons.append(t)),t.bind("click",function(t){t.stopPropagation(),t.preventDefault(),n.trigger("click")})})})),i.windows[o]=c,c},resizeBy:function(){},focus:function(){},close:function(t,n){var e,i=this,n=n||t.frameElement.id.replace(/_ifr$/,"");return i.windows[n]?void((e=i.windows[n])&&(e.element.dialog("destroy").remove(),delete i.windows[n])):void i.parent(t)},setTitle:function(t,n){var e=t.frameElement.id.replace(/_ifr$/,"");$("#ui-dialog-title-dialog-"+e).html(n)},alert:function(t,n,e){this._messagePopup("alert","Alert",t,n,e)},confirm:function(t,n,e){this._messagePopup("confirm","Confirm",t,n,e)},_messagePopup:function(n,e,i,o){var a,r=this;a=r.open({title:e,type:n,button_func:function(t){o&&o.call(t||r,t),r.close(null,a.id)},content:t.encode(r.editor.getLang(i,i)),inline:1,width:400,height:130})}}),tinymce.PluginManager.add("jqueryinlinepopups",tinymce.plugins.jQueryInlinePopups)}();